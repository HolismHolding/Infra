
red=`tput setaf 1`
green=`tput setaf 2`
reset=`tput sgr0`
if [ ! -f "$PWD/Dependencies" ]; then
    echo -e '\033[0;31m'"Can't find the file Dependencies";
    return;
fi

 /HolismDotNet/Infra/Generation
cp $PWD/ConnectionStrings.json /HolismDotNet/Infra/Generation/bin

while read Dependency; do  

    Org=$(echo $Dependency | cut -d'/' -f1)
    Repo=$(echo $Dependency | cut -d'/' -f2)
    echo  "${green} $Org/$Repo${reset}";
    dotnet build /$Org/$Repo

done <<< "$({ cat "$PWD/Dependencies"; echo; })"

echo  "${green} $PWD{reset}";
dotnet build $PWD